---
layout: single
published: true
title:  "[JAVA] 자바의 특징, JVM"
categories: Java
date: 2024-01-26 17:54:22
toc: true
toc_sticky: true
tag:   
  - Java
  - 자바
---

## 자바란

자바는 컴퓨터 프로그래밍 언어로, 컴퓨터 프로그램을 만드는데 사용합니다. 

## 자바로 무엇을 할 수 있을까?

누구나 웹 사이트에 접속하여 게시글을 읽거나, 작성하거나 수정 혹은 삭제하는 작업을 해본 경험이 있을것입니다. 이런 게시판이나 웹 사이트를 `웹 프로그램` 이라고 하는데, 자바는 이런 웹 프로그램 개발에 많이 사용되는 언어입니다. 과거에는 IT 웹 서비스 기업들이 서버 사이드 언어로 간혹 php를 사용했었지만, 기존 레거시를 자바 언어로 많이 옮겨갔습니다. 

### 안드로이드 개발

자바는 안드로이드 앱 개발할 때 사용하는 메인 언어입니다. 안드로이드 스튜디오와 함께 자바 언어를 사용하면 쉽게 모바일 앱 개발을 할 수 있습니다. 



### 데이터베이스 처리

웹 페이지의 데이터를 저장/수정/삭제 하고 관리하는 데이터베이스 시스템 연결에도 자바 언어가 많이 사용됩니다. 

### 대규모 데이터 처리

자바는 대규모 데이터 분산처리에 필요한 도구와 오픈 프레임워크가 널리 보급되어있습니다. 하둡, 스파크 뿐만 아니라 카프카, 하이브 역시 대규모 데이터 처리에 유용하게 사용되는 프레임워크이죠. 이 모두 자바로 이루어진 프레임워크입니다.

## 자바의 특징

### ⭐객체 지향 언어이다

이것은 프로그램을 개발하는 기법으로, 부품에 해당하는 “객체”들을 먼저 만들고 그 부품들을 조립하고 부품들끼리 연결하여 전체 프로그램을 완성하는 기법을 객체지향 프로그래밍(OOP)라고 합니다. 이때 사용하는 언어를 “객체 지향 언어” 라고 하고요.

### ⭐메모리를 자동으로 관리해준다

C++의 경우, 메모리에 생성된 객체를 제거하기 위해 개발자가 직접 코드를 작성해야 합니다. 만약 이 작업을 성실하게 해주지 않는다면 프로그램은 불완전해지고 갑자기 다운되는 현상을 겪게 되죠. 이런 C++과는 달리, 자바는 개발자가 직접 메모리를 접근할 수 없게 설계되어있으며 메모리는 자바가 직접 관리합니다(Gabage Collector). 따라서 개발자는 메모리 관리의 수고스러움을 덜고, 핵심 기능 코드 작성에 집중할 수 있습니다. 

### 풍부한 라이브러리

자주 쓰이는 주요한 기능들을 라이브러리로 풍부하게 제공해주고 있어서, 원하는 프로그램을 적은 노력으로 개발하기 쉽습니다. 

### ⭐운영체제에 독립적

서로 다른 실행환경을 가진 시스템 간에 프로그램을 옮겨 실행할 수 있는 장점을 가지고 있습니다. 예를 들어 윈도우 환경에서 실행하는 프로그램을 리눅스 혹은 유닉스에서 실행할 수 있다면 운영체제에 독립적이라고 할 수 있습니다. 이는 자바를 실행하기 위한 가상의 운영체제 역할을 하는 **Java Virtual Machine(JVM)**이 있기 때문에 이러한 특징을 갖고 있다고 볼 수 있습니다. 

## JVM 이란

자바를 실행하기 위한 가상 머신인 JVM이 있기 때문에 운영체제에 독립적인 특징이 있다고 했는데요, 그렇다면 JVM이 무엇인지 알아보겠습니다. 

![image](https://github.com/BaxDailyGit/BaxDailyGit/assets/99312529/f9dfe634-91e2-4bc2-9318-881b9bba0e97)
<span style="color:gray; display: block; text-align: right;">출처 : 이스트소프트 조성연</span>

**Java Virtual Machine**은 자바를 실행하기 위한 가상 머신입니다. 실 운영체제를 대신해서 자바 프로그램을 실행하는 가상의 운영체제 역할을 하죠.

만약에 어떤 프로그램이 OS에 종속적인 프로그램이라고 가정해봅시다. 어떤 프로그램은 Mac OS에서만 동작하고, 또 다른 프로그램은 Window OS에서만 동작하겠죠. 이렇게 되면 운영체제에 따라서 프로그램의 구현이 달라지는 상황이 벌어집니다.  

자바의 경우에는 자바를 실행하기 위한 가상머신인 JVM이 OS위에 있기 때문에 운영체제에 독립적인 특징을 갖게됩니다. 

JVM의 구조는 다음과 같습니다. 개발자가 Java 코드를 작성하면 그 이후부터는 Java compiler, 가상머신이 동작하며 프로그램이 실행됩니다. 

![image](https://github.com/BaxDailyGit/BaxDailyGit/assets/99312529/58843794-f495-40f5-b98d-854c82f9632c)
<span style="color:gray; display: block; text-align: right;">출처 : 이스트소프트 조성연</span>

참고용 : 위 JVM 구조에서 Runtime Data Area 영역만을 상세하게 표현한 그림입니다. 

![image](https://github.com/BaxDailyGit/BaxDailyGit/assets/99312529/d34d4eb7-12f1-4dc9-b740-a75e0ca0ad40)
<span style="color:gray; display: block; text-align: right;">출처 : 이스트소프트 조성연</span>

지금부터는 자바 파일이 어떻게 실행되는지 조금 더 상세히 들여다보겠습니다. 

## 자바 파일 실행 과정

자바 프로그램은 확장자가 .java인 자바 소스 파일을 작성하는 것부터 시작됩니다. 이 소스파일을 컴파일러로 컴파일하면 확장자가 .class인 바이트 코드가(클래스 파일) 생성됩니다. 이 클래스 파일은 JVM 에 의해 JVM에서 해석되고 해당 운영체제에 맞게 기계어로 번역됩니다. 위쪽 JVM 그림에서 Class Loader가 이 번역 역할을 하는 ‘번역가’ 라고 할 수 있는 것이지요.

![image](https://github.com/BaxDailyGit/BaxDailyGit/assets/99312529/6b73442c-131e-4ffe-8967-512b7f079471)
<span style="color:gray; display: block; text-align: right;">출처 : 이스트소프트 조성연</span>

 자바의 가장 큰 장점 중 하나인 “Write Once, run anywhere” (한 번 작성하면 어디서든 실행된다)는 특징은 매력적이지만, 한 번의 컴파일링으로 실행 가능한 기계어가 만들어지지 않고 JVM에 의해 기계어로 번역되고 실행되기 때문에 C,C++ 컴파일 단계에서 만들어지는 완전한 기계어보다는 속도가 느리다는 단점을 가지고 있습니다. 그러나 기계어로 빠르게 변환해주는 JVM 내부의 최적화된 JIT 컴파일러를 통해 속도의 격차는 많이 줄어들고 있습니다. 

앞서 자바 Compiler와 실행 머신(JVM)에 대해 이야기했었는데, IntelliJ를 사용하여 자바 프로그램을 작성한다면 사용할 기회조차 없는 **java, javac**에 대해서 알아보겠습니다. 로컬에 직접 JDK를 다운받았다면 환경변수(PATH) 설정 후 javac(컴파일), java(실행) 명령을 통해 자바 코드를 실행할 수 있습니다. 우리는 IntelliJ를 이용하기 때문에 IDE에서 이 작업을 수행해주고 있는 것이죠.  

그러면 IntelliJ에서 컴파일을 하는것이 아닌, 우리가 직접 Terminal에서 javac를 이용한 컴파일을 해보도록 할게요. 먼저 jdk가 저장되어 있는 루트로 이동합니다.

> **cd C:\Users\사용자명\.jdks\corretto-17.0.9\bin**
> 



1. 자바 소스파일 Main.java 를 작성합니다.
2. bin 폴더에서 javac를 이용하여 Main.java를 컴파일해줍니다.
    - 컴파일러(javac)는 `Main.java` 소스파일을 `Main.class` 클래스 파일로 컴파일 합니다. JVM이 인식할 수 있는 이진(binary) 파일로 만들어주는 것이죠.
    
    
    
    - 컴파일이 완료되었다면 아무런 메시지가 출력되지 않고, `Main.java`파일과 같은 위치에 `Main.class` 파일이 생성 되었을겁니다.
    
    ![image](https://github.com/BaxDailyGit/BaxDailyGit/assets/99312529/893c3bb6-8765-4daf-be4d-9a9626258908)
    
3. JVM은 클래스 파일을 해석하여 실행합니다. 
    
    - java 라는 실행 명령어로 클래스 파일을 실행했지만 오류가 발생하죠. 비록 오류는 발생했지만 자바 프로그램을 실행하는데는 성공했습니다.

여기까지 직접 java javac 명령어로 자바 코드를 실행해보았습니다. 

위 2, 3번에서 수행하는 컴파일, 실행 과정을 인텔리제이(IntelliJ)에서는 `Run` 버튼 하나만으로도 수행됩니다 🙂

![image](https://github.com/BaxDailyGit/BaxDailyGit/assets/99312529/4ae7b32a-217a-4501-944e-0fb028aed99b)