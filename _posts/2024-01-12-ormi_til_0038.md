---
layout: single
published: true
title:  "[JS] JavaScript This"
categories: JavaScript
date: 2024-01-12 19:31:41
toc: true
toc_sticky: true
tag:   
  - JavaScript
  - JavaScript This
  - μ¤λ¥΄λ―Έ
  - μ΄μ¤νΈμ†ν”„νΈ

---

## 6. this

### 6.1 this λ€?

thisλ” κ°μ²΄λ¥Ό κ°€λ¦¬ν‚¤λ” μ°Έμ΅° λ³€μμ…λ‹λ‹¤. thisλ” νΈμ¶λλ” μ„μΉμ— λ”°λΌ λ‹¤λ¥Έ κ°’μ„ μ¶λ ¥ν•κΈ° λ•λ¬Έμ— μ°λ¦¬μ—κ² νΌλ€μ„ μ¤λ‹λ‹¤.

μ•„λ μμ μ—μ„ thisλ” μ„μ κ²½μ°μ—λ” window, μ•„λμ κ²½μ°μ—λ” myObjμ…λ‹λ‹¤. λ¶„λ… κ°™μ€ κΈ°λ¥μ„ ν•κ³  μλ”λ° λ§μ΄μ£ .

```jsx
function a(){ console.log(this) }
a();
```

```jsx
let myObj = {
    val1: 100,
    func1: function () {
        console.log(this);
    }
}

myObj.func1();
```

<div class="notice--primary" markdown="1">
π§ window κ°μ²΄
λΈλΌμ°μ € ν™κ²½μ μ „μ—­κ³µκ°„μ„ μλ―Έν•©λ‹λ‹¤. Node.js ν™κ²½μ—μ„μ μ „μ—­κ³µκ°„μ€ global μ΄λ€ μ΄λ¦„μ„ κ°€μ§‘λ‹λ‹¤.

```jsx
function b(){
    console.log('hello world')
}
b()
window.b()
```

</div>

<div class="notice--primary" markdown="1">
π§ μ–΄λ–¤ κ°μ²΄μ λ©”μ†λ“κ°€ μ•„λ‹ λ‹¨λ… νΈμ¶λλ” ν•¨μμ thisλ” μ „μ—­κ³µκ°„μ„ μ°Έμ΅°ν•κ²λ©λ‹λ‹¤.

</div>

κ·Έλ¬λ©΄ μ΄λ ‡κ² ν•λ©΄ μ–΄λ–¨κΉμ”? μ•„λμ κ²½μ°μ—λ„ thisκ°€ λ‹¬λΌμ§‘λ‹λ‹¤. ν•¨μλ¥Ό νΈμ¶ν• κ°μ²΄κ°€ λ‹¬λΌμ΅κΈ° λ•λ¬Έμ΄μ£ !

```jsx
let myObj = {
    val1: 100,
    func1: function () {
        console.log(this);
    }
}

let test = myObj.func1;
test()
```

λ²„νΌμΌλ΅ λ§λ“¤μ–΄λ³΄κ² μµλ‹λ‹¤. μ΄λ²μ—λ” thisκ°€ λ²„νΌμ΄ λμ—μµλ‹λ‹¤. 

```html
<!DOCTYPE html>
<html lang="ko">
    <head>
        <title></title>
    </head>
    <body>
        <button id="btn1">ν΄λ¦­ν•΄λ΄μ”!</button>
        <button id="btn2">ν΄λ¦­ν•΄λ΄μ”!</button>
        <script>
            let myObj = {
                val1: 100,
                func1: function () {
                    console.log(this);
                },
            };

            let test = myObj.func1;

            let button1 = document.getElementById("btn1");
            button1.addEventListener("click", myObj.func1);
            let button2 = document.getElementById("btn2");
            button2.addEventListener("click", test);
        </script>
    </body>
</html>
```

λ‹¤λ¥Έ μλ¥Ό λ“¤μ–΄λ³΄λ„λ΅ ν•κ² μµλ‹λ‹¤. μ•„λ μμ‹μ—μ„ this κ°€ κ°€λ¥΄ν‚¤λ”κ²ƒμ΄ λ¬΄μ—‡μΈμ§€ μ μ‚΄ν΄λ³΄μ„Έμ”!

```jsx
/ * this */
function sayName(){
  console.log(this.name);
}

var name = 'Hero'; 
// μ „μ—­μΌλ΅ μ„ μ–Έν• name λ³€μμ μ•μ—λ” window κ°€ μƒλµλμ–΄ μμµλ‹λ‹¤. 
// λ•λ¬Έμ— window.name === "Hero" κ°€ μ„±λ¦½ν•©λ‹λ‹¤.
let peter = {
  name : 'Peter Parker',
  sayName : sayName
}

let bruce = {
  name : 'Bruce Wayne',
  sayName : sayName
}

sayName();
peter.sayName(); 
bruce.sayName();

/* sayName() ν•¨μλ¥Ό μ‹¤ν–‰ν–μ„ λ•μ™€ 
peter, bruce κ°μ²΄μ sayName ν•¨μλ¥Ό νΈμ¶ν–μ„ λ•μ κ²°κ³Όλ¥Ό λΉ„κµν•΄ λ³΄μ„Έμ” */
```

```jsx
/* this μ‚¬μ© μμ‹ */

let νΈν…” = [{
  'μ΄λ¦„' : 'ν•λ‚νΈν…”',
  'μ„μΉ' : 'μ μ£Όλ„ μ μ£Όμ‹ 001',
  'κ°€κ²©' : {'A':50000, 'B':30000, 'C':15000},
  'λ°©μκ°μ' : 50,
  'μμ•½μμ' : 25,
  'λ‚¨μ€λ°©μκ°μ' : function(){return this.λ°©μκ°μ - this.μμ•½μμ}
},{
  'μ΄λ¦„' : 'λ‘νΈν…”',
  'μ„μΉ' : 'μ μ£Όλ„ μ μ£Όμ‹ 002',
  'κ°€κ²©' : {'A':100000, 'B':60000, 'C':30000},
  'λ°©μκ°μ' : 100,
  'μμ•½μμ' : 30,
  'λ‚¨μ€λ°©μκ°μ' : function(){return this.λ°©μκ°μ - this.μμ•½μμ}
},{
  'μ΄λ¦„' : 'μ…‹νΈν…”',
  'μ„μΉ' : 'μ μ£Όλ„ μ μ£Όμ‹ 003',
  'κ°€κ²©' : {'A':80000, 'B':50000, 'C':30000},
  'λ°©μκ°μ' : 120,
  'μμ•½μμ' : 80,
  'λ‚¨μ€λ°©μκ°μ' : function(){return this.λ°©μκ°μ - this.μμ•½μμ}
}];
console.log(νΈν…”[0].λ‚¨μ€λ°©μκ°μ());
console.log(νΈν…”[1].λ‚¨μ€λ°©μκ°μ());
console.log(νΈν…”[2].λ‚¨μ€λ°©μκ°μ());
```

### 6.2 this μ νΉμ§•

thisλ” ν•¨μκ°€ λ§λ“¤μ–΄μ§ λ•κ°€ μ•„λ‹ 'μ‹¤ν–‰'λ  λ• κ·Έ κ°’μ΄ κ²°μ •λ©λ‹λ‹¤.

```jsx
function sayName(){
  console.log(this.name);
}
var name = 'Hero';

let peter = {
  name : 'Peter Parker',
  sayName : sayName
};

let bruce = {
  name : 'Bruce Wayne',
  sayName : peter.sayName
};

bruce.sayName();
```