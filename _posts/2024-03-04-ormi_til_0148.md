---
layout: single
published: true
title:  "[Spring Boot]스프링 부트 프로젝트 디렉터리 구성하며 살펴보기"
categories: SpringBoot
date: 2024-03-04 18:02:24
toc: true
toc_sticky: true
tag:   
  - Spring Boot
  - 스프링 부트
  - 스프링 부트 프로젝트 디렉터리 구성하며 살펴보기
---

스프링 부트가 어떤 구조인지, 어떤 과정을 통해 실행되는지 코드와 함께 살펴보는 챕터입니다. 앞으로 프로젝트를 진행할 때 어떤 구조로 진행해야하는지 감을 잡을 수 있도록 하겠습니다.

## 1. 스프링 부트3 구조 살펴보기

먼저, 스프링 부트는 아래 그림에서 보듯이 각 계층이 양 옆의 계층과 통신하는 구조를 따릅니다. 여기서 계층 이라는 단어가 생소할 수 있는데요, 계층이라는 것은 각자의 역할과 책임이 있는 어떤 소프트웨어의 구성 요소를 의미합니다. 각 계층은 서로 소통할 수는 있지만 다른 계층에 직접 간섭하거나 영향을 미치지 않습니다.

![image](https://github.com/BaxDailyGit/BaxDailyGit/assets/99312529/3e8a1a1c-1d4e-41ee-9f9c-1b86ab30a3e7)


예를 들어서, 어떤 거리에 빵집과 카페가 있다고 해봅시다. 카페는 커피를 팔고, 빵집은 빵을 팔겠죠. 그런데 필요한 경우 협업 관계를 맺어 어떤 손님이 커피를 사면 빵을 할인할 수도 있습니다. 이것이 계층간의 소통입니다. 하지만 빵집 알바생이 빵을 팔다말고 카페에 가서 커피를 만들고 팔 수는 없죠. 즉, 계층은 서로 영향을 끼치지는 못합니다. 각 계층은 자신의 책임에 맞는 역할(커피 팔기, 빵 팔기)을 수행하며 필요에 따라 소통(커피 사면 빵 할인) 합니다. 스프링 부트에는 프레젠테이션, 비즈니스, 퍼시스턴스 계층이 있습니다. 이 계층이 서로 통신하면서 프로그램을 구성하는 것이죠.

### 프레젠테이션 계층

HTTP 요청을 받고 이 요청을 비즈니스 계층으로 전송하는 역할을 합니다. 컨트롤러가 바로 프레젠테이션 계층의 역할을 합니다. 컨트롤러는 앞서 살펴본 HelloController 클래스와 같은 것을 말하는데요, 컨트롤러는 스프링 부트 내에 여러개가 있을 수 있습니다. 
관례상 XxxController 라는 클래스명으로 컨트롤러 이름을 짓습니다. 

### 비즈니스 계층

모든 비즈니스 로직을 처리합니다. 비즈니스 로직이란 서비스를 만들기 위한 로직을 말합니다. 쉽게 말해 웹 사이트에서 벌어지는 모든 작업, 이를테면 주문 서비스라고 한다면 주문 개수, 가격 등의 데이터를 처리하기 위한 로직, 주문 처리를 하다가 발생하는 예외 처리 로직, 주문을 받거나 취소하는 것 같이 프로세스를 구현하기 위한 로직 등을 생각하면 됩니다. 서비스가 이런 비즈니스 계층의 역할을 합니다.
관례상 XxxService 라는 클래스명으로 서비스 이름을 짓습니다. 

### 퍼시스턴스 계층

모든 데이터베이스 관련 로직을 처리합니다. 이 과정에서 데이터베이스에 접근하는 DAO 객체를 사용할 수도 있습니다. DAO는 **데이터베이스 계층과 상호작용하기 위한 객체**라고 이해하면 됩니다. 레파지토리가 퍼시스턴스 계층의 역할을 합니다. 

설명만으로는 스프링 부트 구조가 잘 이해되지 않을 겁니다. 여러분이 꼭 알았으면 하는 건 계층은 개념의 영역이고, 컨트롤러, 서비스, 레파지토리는 실제 구현을 위한 영역이라는 겁니다. 이 말도 코드를 수정하다보면 차차 알게 될 겁니다. 

## 2. 스프링 부트 프로젝트 디렉터리 구성

이번에는 스프링 부트 프로젝트 디렉터리를 구성하면서 살펴보겠습니다. 스프링 부트에는 정해진 프로젝트 구조가 없지만 추천 프로젝트 구조는 있습니다. 많은 개발자가 실무에서 이 구조를 따르기 때문에 우리도 이 구조를 따라 개발해보겠습니다.

![image](https://github.com/BaxDailyGit/BaxDailyGit/assets/99312529/c0f309c2-7518-4d82-8995-7c43ca66bb2a)


### main

실제 코드를 작성하는 공간입니다. 프로젝트 실행에 필요한 소스 코드나 리소스 파일은 모두 이 폴더 안에 들어있습니다. 

### test

프로젝트의 소스 코드를 테스트할 목적의 코드나 리소스 파일이 들어 있습니다.

### build.gradle

빌드를 설정하는 파일입니다. 의존성이나 플러그인 설정 등과 같이 빌드에 필요한 설정을 할 때 사용합니다.

### settings.gradle

빌드할 프로젝트의 정보를 설정하는 파일입니다.

## 3. main 디렉터리 구성하기

main 디렉터리를 펼치면 java와 resources로 구성되어 있습니다. 우리가 작성한 코드가 들어 있는 디렉터리는 java 디렉터리죠. 아직 resources 디렉터리에는 아무것도 넣지 않았습니다. 여기에 아직 추가하지 못했던 스프링 부트 프로젝트의 구성 요소를 하나씩 추가해보겠습니다.

### Step1. templates 디렉터리

먼저 HTML 같은 뷰 관련 파일을 넣을 templates 디렉터리를 만듭니다. 프로젝트 세팅시 templates 디렉터리가 있는 경우도 있지만, 없다면 만들어줄게요. resources 디렉터리를 우클릭하고 [New→Directory]를 순서대로 누르고 templates 디렉터리를 만듭니다. 

![image](https://github.com/BaxDailyGit/BaxDailyGit/assets/99312529/1af73d6d-fd30-428b-a6a7-6ac81f412e4d)


### Step2. static 디렉터리

그 다음에는 JS, CSS, 이미지와 같은 정적 파일을 넣을 static 디렉터리를 만듭니다. 프로젝트를 셋팅했을 때 이미 static 디렉터리가 있는 경우도 있지만, 없는 경우에는 resources 디렉터리 하위에 만들면 됩니다.

### Step3. application.properties

마지막으로 스프링 부트 설정을 할 수 있는 application.properties 파일을 생성합니다. 이 파일은 스프링 부트 서버가 실행되면 자동으로 로딩되는 파일입니다. **데이터베이스의 설정 정보**, **로깅 설정 정보** 등이 들어갈 수도 있고, 직접 설정을 정의할 때 사용하기도 합니다. 앞으로 프로젝트를 진행하며 자주 사용할 파일이므로 잊지 말고 만드세요.